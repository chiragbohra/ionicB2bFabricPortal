<ion-menu [content]="content">
    <ion-header>
        <ion-toolbar>
            <ion-title>Menu</ion-title>
        </ion-toolbar>
    </ion-header>


    <ion-content>

        <!-- code for menu -->

        <button menuClose ion-item *ngFor="let p of pages; let i=index" (click)="openPage(p)" [ngClass]="{active: isLevel1Shown('idx'+i)}">
            <ion-icon [name]="p.icon" item-left></ion-icon>

            {{p.title}}

        </button>

        <!-- code for 2nd menu with submenu under OrderPage-->

        <ion-list>
            <ion-item *ngFor="let p of pages1; let i=index" text-wrap (click)="toggleLevel1('idx'+i)" [ngClass]="{active: isLevel1Shown('idx'+i)}">
                <ion-icon [name]="p.icon" item-left></ion-icon>

                <h4>
                    {{p.category}}
                    <!--for OrderPage-->
                    <ion-icon color="success" item-right [name]="isLevel1Shown('idx'+i) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>
                </h4>
                <ion-list *ngIf="isLevel1Shown('idx'+i)">
                    <ion-item menuClose *ngFor="let s of p.subs; let i2=index" text-wrap (click)="openPage1(s)" (click)="toggleLevel2('idx'+i+'idx'+i2)">
                        <ion-icon [name]="s.icon" item-left></ion-icon>
                        <h4>
                            {{s.subcategory}}
                        </h4>
                    </ion-item>
                </ion-list>
            </ion-item>
        </ion-list>

    </ion-content>


</ion-menu>


<!-- Disable swipe-to-go-back because it's poor UX to combine STGB with side menus -->
<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>